{"version":3,"sources":["../../src/pages/login-page/login-page.module.ts","webpack:///./src/validators/email.ts?fb79","../../src/pages/login-page/login-page.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login-page';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-page/login-page.module.ts","import { FormControl } from '@angular/forms';\n\nexport class EmailValidator {\n\n  static isValid(control: FormControl){\n    const re = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/.test(control.value);\n\n    // success\n    if (re) { \n        return null; \n    } \n\n    return { \"invalidEmail\": true };\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts","import { FirebaseService } from './../../providers/firebase-service';\nimport { Component } from '@angular/core';\nimport { IonicPage, Loading, LoadingController, NavController, AlertController } from 'ionic-angular';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { EmailValidator } from '../../validators/email';\n\n@IonicPage()\n@Component({\n  selector: 'page-login-page',\n  templateUrl: 'login-page.html',\n})\nexport class LoginPage {\n  public loginForm: FormGroup;\n  loading: Loading;\n\n  constructor(public navCtrl: NavController, public firebaseService: FirebaseService, public loadingCtrl: LoadingController, public alertCtrl: AlertController, public formBuilder: FormBuilder) {\n    this.loginForm = formBuilder.group({\n      email: ['', Validators.compose([Validators.required, EmailValidator.isValid])],\n      password: ['', Validators.compose([Validators.minLength(6), Validators.required])]\n    });\n  }\n\n  loginUser(): void {\n    if (this.loginForm.valid) {\n      this.loading = this.loadingCtrl.create();\n      this.loading.present();\n\n      this.firebaseService.loginUser(this.loginForm.value.email, this.loginForm.value.password)\n        .then(authData => {\n          this.loading.dismiss().then(() => {\n            this.navCtrl.setRoot('TabsPage');\n          });\n        }, error => {\n          this.loading.dismiss().then(() => {\n            let alert = this.alertCtrl.create({\n              title: 'Error',\n              message: error.message,\n              buttons: [\n                {\n                  text: \"Ok\",\n                  role: 'cancel'\n                }\n              ]\n            });\n            alert.present();\n          });\n        });\n    }\n  }\n\n  goToSignup() {\n    this.navCtrl.push('RegisterPage');\n  }\n\n  resetPassword() {\n    let prompt = this.alertCtrl.create({\n      title: 'Reset Password',\n      message: 'Enter your email below',\n      inputs: [\n        {\n          name: 'email',\n          placeholder: 'My Email'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        },\n        {\n          text: 'Reset',\n          handler: data => {\n            this.firebaseService.resetPassword(data.email).then(data => {\n              console.log('reset: ', data);\n              this.showBasicAlert('Success', 'Check your email for further instructions.');\n            })\n              .catch(err => {\n                this.showBasicAlert('Error', err.message);\n              })\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n  showBasicAlert(title, text) {\n    let alert = this.alertCtrl.create({\n      title: title,\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-page/login-page.ts"],"sourceRoot":""}