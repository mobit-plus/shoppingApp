{"version":3,"sources":["../../src/pages/profile-page/profile-page.module.ts","../../src/pages/profile-page/profile-page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACH;AAa7C,IAAa,iBAAiB;IAA9B;IAAgC,CAAC;IAAD,wBAAC;AAAD,CAAC;AAApB,iBAAiB;IAX7B,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,kEAAW;SACZ;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,kEAAW,CAAC;SACtC;QACD,OAAO,EAAE;YACP,kEAAW;SACZ;KACF,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACduC;AACD;AAC1B;AACgC;AAO1E,IAAa,WAAW;IAItB,qBAAmB,OAAsB,EAAS,eAAgC,EAAS,WAAwB,EAAS,SAA0B;QAAnI,YAAO,GAAP,OAAO,CAAe;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAAS,gBAAW,GAAX,WAAW,CAAa;QAAS,cAAS,GAAT,SAAS,CAAiB;QACpJ,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC;YAChC,IAAI,EAAE,CAAC,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC,CAAC,kEAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,kEAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SAC/E,CAAC,CAAC;IACL,CAAC;IAED,sCAAgB,GAAhB;QAAA,iBAYC;QAXC,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,KAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,cAAI;oBAC/C,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC;oBACtB,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC,CAAC;gBAC1C,CAAC,EAAE,aAAG;oBACJ,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;gBACjC,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,eAAe,CAAC,kBAAkB,EAAE,CAAC;YAC/D,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,gCAAU,GAAV;QAAA,iBAIC;QAHC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;YACjE,KAAI,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACrC,CAAC,CAAC;IACJ,CAAC;IAED,kCAAY,GAAZ,UAAa,GAAG;QACd,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,GAAG;YACZ,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,qCAAe,GAAf,UAAgB,UAAU;QAA1B,iBAIC;QAHC,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC;YACrD,KAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,CAAC;QAC5C,CAAC,CAAC;IACJ,CAAC;IAED,uCAAiB,GAAjB,UAAkB,YAAY;QAC5B,IAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;IACvD,CAAC;IACH,kBAAC;AAAD,CAAC;AA/CY,WAAW;IALvB,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;OACG;KACjC,CAAC;gBAKsJ;AA2CvJ;SA/CY,WAAW,oB","file":"4.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile-page';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n  exports: [\n    ProfilePage\n  ]\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-page/profile-page.module.ts","import { Observable } from 'rxjs/Observable';\nimport { FirebaseService } from './../../providers/firebase-service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, ToastController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-profile-page',\n  templateUrl: 'profile-page.html',\n})\nexport class ProfilePage {\n  nameForm: FormGroup;\n  invitations: Observable<any[]>;\n\n  constructor(public navCtrl: NavController, public firebaseService: FirebaseService, public formBuilder: FormBuilder, public toastCtrl: ToastController) {\n    this.nameForm = formBuilder.group({\n      name: ['', Validators.compose([Validators.minLength(1), Validators.required])]\n    });\n  }\n\n  ionViewWillEnter() {\n    this.firebaseService.authState.subscribe(user => {\n      if (user) {\n        this.firebaseService.getUserData().subscribe(data => {\n          let value = data.name;\n          this.nameForm.patchValue({name: value});\n        }, err => {\n          console.log('some err: ', err);\n        });\n        this.invitations = this.firebaseService.getUserInvitations();\n      }\n    })\n  }\n\n  updateUser() {\n    this.firebaseService.updateUserName(this.nameForm.value.name).then(() => {\n      this.presentToast('Name changed!');\n    })\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  accepInvitation(invitation) {\n    this.firebaseService.acceptInvitation(invitation).then(() => {\n      this.presentToast('Invitation accepted!');\n    })\n  }\n\n  discardInvitation(invitationId) {\n    this.firebaseService.discardInvitation(invitationId);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile-page/profile-page.ts"],"sourceRoot":""}